<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Flugsuche</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="map-container">
    <iframe
      src="https://www.openstreetmap.org/export/embed.html"
      class="map-iframe"
      loading="lazy"
    ></iframe>
  </div>

  <div class="background-container">
    <img src="assets/Background.png" alt="Hintergrund" class="background-image" />
  </div>

  <div class="flight-card">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Gefundene Flüge</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-spinner *ngIf="isLoading" name="crescent"></ion-spinner>

        <ion-list *ngIf="!isLoading && flights.length > 0">
          <ion-item *ngFor="let flight of flights">
            {{ flight.flightNumber || 'Unbekannt' }} – {{ flight.airline?.name || 'Unbekannte Airline' }}
          </ion-item>
        </ion-list>

        <ion-text color="danger" *ngIf="errorMessage">
          {{ errorMessage }}
        </ion-text>

        <ion-text color="medium" *ngIf="!isLoading && flights.length === 0 && !errorMessage">
          Keine Flüge gefunden.
        </ion-text>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-title size="small">© 2025 Deine Flug-App</ion-title>
  </ion-toolbar>
</ion-footer>
